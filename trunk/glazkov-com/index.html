<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>
		<title>Dimitri Glazkov</title>
		<meta name="verify-v1" content="zxlfmaEbEL9f3Fv+jFEa9fHNKRjXVD+uqlvXQP9KL50=" />
		<link href="https://www.myopenid.com/server" rel="openid.server" type="text/css"></link>
		<link href="http://dglazkov.myopenid.com/" rel="openid.delegate" type="text/css"></link>
		<link href="http://feeds.feedburner.com/DimitriGlazkov/" rel="alternate" type="application/rss+xml"></link>
		<link href="styles/screen.css" rel="stylesheet" media="screen" type="text/css"></link>
	</head>
	<body>
		<form method="post" id="form" action="/Default.xhtml">
			<div>
			<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwUBMGRkj5cmEE7K71jwAQ3T5T3Y9pvHaO8=" />
			</div>
			<div id="titling" class="content-area">
				<h1 class="page">Dimitri Glazkov</h1>
			</div>
			<div id="feeds" class="content-area">
				<div id="feed-684-1" class="feed last-post"><ul>
	<li class="" id="last-post-1823">
		<a class="title" href="post.html">Margin Marks UI Concept</a>
		<div>
			<abbr class="posted" title="9/4/2007 3:28:00 PM">09/04/07</abbr>
		</div>
		<div class="body"><h3>Summary</h3>
<p>Margin marks is a user interface concept that aims to expose <a href="http://microformat.org/">microformats</a> on a web page in a way that's intuitive, useful, and positionally relevant, yet has minimal interaction with the page presentation. This concept can be also extended to emphasize other, typically invisible aspects of the content, such as fragment identifiers, classes and even to letting the users add their own marks. You can go ahead and just <a href="http://flickr.com/photos/dglazkov/sets/72157601860335196/">look at the pictures</a> if you don't feel like reading.
</p>
<h3>Motivation</h3>
<p>I've been following the thought process of microformats UI in <a href="http://wiki.mozilla.org/Firefox3">Firefox 3</a> as documented in <a href="https://addons.mozilla.org/en-US/firefox/addon/4106">Operator</a>'s
functionality, <a href="http://blog.mozilla.com/faaborg">Alex</a>'s blog, and <a href="http://microformats.org/mailman/listinfo/microformats-discuss/">uf-discuss</a> list. It's been exciting to think about the power of microformats and its consumption potential being built into the browser, and as such the decisions about the user interface exposing this power are certainly quite heavy in weight. The greatest problem as it appeared to me was exposing content, marked up with microformats in a way that does not interfere with the page presentation, while at the same time providing comfortable and immediately useful experience for the users. Mike's current experiment, the Operator, has cool ideas and lots of configurable options, but it still left me wanting something more. Primarily, my holy grail was positional relevance of the consumer user interface to the actual marked-up content. Looking at pages like <a href="http://twitter.com/">twitter.com</a> and my own blog comments, I realized that a page with a lot of microformatted content practically begs for positional correlation between the Operator's
action drop-downs and the page itself. That's how the margin marks came along.
</p>
<h3>General Concept</h3>
<p>The margin bar is a vertical pane that is shown on one side of the browser window. Whether it's on the left or on the right may be configurable by the user. The contents of the margin bar are vertically attached to the page, so
that when the page contents are scrolled, the margin bar contents are scrolled as well. Visually, it's an extra margin to the page that is controlled by the browser, not page presentation (hence, the <dfn>margin bar</dfn>). The margin bar can be visible or hidden, as desired by the user. Naturally, <q>open</q> should be the default state.
</p>
<p>The margin bar is narrow, with minimal impact on the width of the browser window. The information provided is hint-like, abbreviated down to icons and perhaps numeric indicators. Visually, it's a <a href="http://flickr.com/photos/dglazkov/1323814472/">set of glyphs</a>, each positioned alongside the start of relevant content fragment. These glyphs are <dfn>margin marks</dfn>. Margin mark identifies vertical position of a content fragment in the margin bar. The mark can be visually presented as an arrow or any other sort of pointer with an icon on it.
</p>
<h3>Grouping Marks</h3>
<p>In situations, when there are more than one marks occupying the same space, the marks are combined into one mark, visually identifying multiple items, together with the number of combined marks. The icon, associated with the top-most mark is displayed.
</p>
<h3>Mark Actions</h3>
<p>Each mark may have one or more actions, associated with it, with one action designated as default. Configuring the actions is part of the browser preferences UI. It is possible that the action may have an icon associated with
it. For instance, if the action is to add event to Microsoft Outlook calendar, the Outlook icon is displayed in the mark, rather than a generic address card. However, this may introduce more confusion, given the diversity of platforms and applications that may be potentially invoked by the users.
</p>
<h3>Mouse Navigation</h3>
<p>When the user hovers the mouse over the mark, the <a href="http://flickr.com/photos/dglazkov/1323813520/">details window is revealed</a>. Moving the mouse off the mark closes the details window. Clicking on the mark invokes the default action. Visually, default action is placed at the top of the details window, so hovering and clicking are intuitively connected: the user does not need to make any further mouse movements to invoke the default action. Hovering the mouse over a group opens the group: the marks in the group are lined up in the bar vertically, allowing the user to explore the marks within the group. Admittedly, this is not very elegant. Perhaps you could come up with a better idea.
</p>
<h3>Keyboard Navigation</h3>
<p>Margin bar participates in the browser chrome tab cycle, preferably placed immediately before the page. Also, there should be a keyboard shortcut to bring keyboard focus into the margin bar. Once the bar acquires keyboard focus, the top-most mark gains it automatically. Then, the following keyboard events are recognized (this list is just a suggestion and food for thought):
</p>
<ul>
  <li><kbd>Down Arrow</kbd> &mdash; move to next mark</li>
  <li><kbd>Shift-Down Arrow</kbd> &mdash; move to next mark within the group. If at the end of the group, move to next mark</li>
  <li><kbd>Up Arrow</kbd> &mdash; move to previous mark</li>
  <li><kbd>Shift-Up Arrow</kbd> &mdash; move to previous mark within the group. If at the beginning of the group, move to previous mark</li>
  <li><kbd>Space</kbd> &mdash; scroll the page down and jump to the first mark in the visible span of the page</li>
  <li><kbd>Enter</kbd> &mdash; invoke mark/note action</li>
  <li><kbd>Tab</kbd> &mdash; go to the browser window</li>
  <li><kbd>Shift-Tab</kbd> &mdash; go to the previous item in the tab cycle</li>
</ul>
<h3>Aural Presentation</h3>
<p>Ideally, when used with a browser that is equipped with voice-reading software,
such as JAWS, the user interaction should occur as follows:
</p>
<ul>
  <li>When the margin bar gains focus, the reader announces: <q>X marks on the page. Mark One. Type: Address Card. Name: Rulon Oboev...</q> and continues reading the mark contents</li>
  <li>Using arrows, the user can move between the marks. Upon each move, the reader announces the sequential number of the mark, it's type and contents.</li>
  <li>After reading contents, the reader announces each action as a link.</li>
  <li>In addition to standard actions, the "Go to content on page" action is added after the default action.</li>
</ul>
<h3>Microformats Marks</h3>
Whenever microformat markup is encountered on page, a mark is placed on the bar at the current vertical position of the starting element of the markup fragment. Should the position change as a result of DOM operation or changing geometry of the page, the mark changes the position accordingly. This may be difficult to implement, so an acceptable solution would be to detect detachment (position change) and somehow change the appearance of the mark to no longer "point" to a place in content. Each mark contains a distinctive icon of the corresponding microformat (address card icon for an <a href="http://microformats.org/wiki/hcard">hCard</a>, calendar icon for <a href="http://microformats.org/wiki/hcalendar">hCalendar</a> event, etc.).
</p>
<p>When hovered over the microformat data is presented as a complete note, perhaps using a metaphor, relevant to the specific microformat. For example, the hCard could be rendered as a Rolodex card, and an <a href="http://microformats.org/wiki/hatom">hAtom</a> entry would be probably best presented as a yellow-pad note, a common visual hint of blog post.
</p>
<h3>Other Types of Marks</h3>
<p>One can also easily extrapolate the use of the margin mark to other types of page metadata. For instance, a mark with a feed icon may be placed whenever a feed is encountered on the page. Usually, these would be at the top, but should there be an a element with the type attribute of <code>application/rss+xml</code>, the mark would be placed accordingly there, too.
</p>
<p>Also, the marks could be used to provide a UI to unobtrusively identify HTML elements with an id attribute (HTML fragments). Other uses may include tracking a set of user-specified elements, attribute values, or content (mark everything containing "microformats" on the page).
</p>
<h3>User Marks</h3>
<p>It would be really interesting to offer the users to add their own marks to the page, perhaps by clicking (or right-clicking) on the bar, as a way to annotate the page. As the users add a new mark, they can fill in the fields in the provided dialog box. Typically, this would be a simple note (an hAtom entry), but one can envision adding reminders (an hCalendar event), contact information (an hCard), perhaps re-purposing non-microformatted content from the page), or other types of content. After the mark is added, it is persisted within the browser.
</p>
<p>Persistently and reliably identifying is a potential challenge of user mark implementation. Since it is not known when or how the content of the page will change upon next visit, a visual equivalent of <q>um.. somewhere around here</q> may be applied: if the browser can not identify the precise location of the user mark, an extra hint (a question mark, maybe, or a spatial glow/spread to signify uncertainty in position) is added to the mark. When this hint is present, the point line is not displayed.
</p>
<h3>Other Random Thoughts</h3>
<p>Taking one step further brings us to the ability of the browser to communicate with the server when new user marks are added or deleted. Using some simple detection scheme, a browser could recognize that the page accepts mark updates and send newly added marks to the server transparently. An existing blog comment API with some positional extensions could be used or a new protocol could be proposed. I'll let you figure out what would be best here.
</p>
<p>When the margin mark is hovered over or has focus, an additional visual hint could be introduced: a point on the page where the relevant content begins and a horizontal line, connecting it with the mark, like a laser pointer. This could <em>really</em> address the issues of positional relevance.
</p>
<p>When the page has more microformatted content beyond the current scroll view, a teaser hint could be shown at the bottom or top of the margin bar (an arrow of some sort?) to indicate that there's more crunchy markup above or bellow the currenty visible portion of the page.
</p>
<p>The margin bar could also have an expanded state, in which it shows details along with the marks. I originally had this in the concept, but I instinctively felt it makes the whole thing too complicated.
</p>
<h3>Inspiration, Disclaimer, and Licensing</h3>
<p>This concept is inspired by the entire super-awesome premise of microformats and the great people around them, by the <a href="http://blog.mozilla.com/faaborg/">Alex Faaborg</a>'s
<a href="http://blog.mozilla.com/faaborg/2007/02/04/microformats-part-4-the-user-interface-of-microformat-detection/">post</a> on Firefox 3 microformat UI concepts, <a href="http://www.kaply.com/weblog/">Mike
Kaply</a>'s ground-breaking <a href="https://addons.mozilla.org/en-US/firefox/addon/4106">Operator</a> extension, and quite obviously, <a href="http://www.jackslocum.com/blog/">Jack Slocum</a>'s blog comment system.
</p>
<p>I am not a browser developer and honestly do not know how much effort would it take to implement something like this. I did take a brief stroll in a Mozilla trunk and soon realized that one cannot evaluate implementation feasibility by just taking a brief stroll through the code of a browser. I am positive this can be done completely in Javascript, and thus assume that the feasibility is pretty high.
</p>
<p>Should anyone find this concept, in full or in parts useful, inspiring, and/or worthy of implementation, I release it as <a href="http://creativecommons.org/licenses/publicdomain/">public domain</a>. I think that it would be awfully splendid of you to mention my name, even if somewhere deep in the comments of your shiny new toy. Or maybe bake me a low-carb cake. Or a <a href="http://www.apple.com/macbookpro/">MacBook Pro</a>. But I won't insist.
</p></div>
	</li>
</ul></div><div id="feed-684-2" class="feed recent-posts"><h3>Recent Posts</h3><ul>
	<li class="" id="recent-posts-1660">
		<a class="title" href="blog/horrific-markup-live-spaces/">The Horrific Markup of Live Spaces and Possible Explanation of Dare not Getting Microformats</a>
		<div>
			<abbr class="posted" title="8/24/2007 9:50:49 PM">08/24/07</abbr>
		</div>
	</li>
	<li class="" id="recent-posts-1598">
		<a class="title" href="post.html">Framework for Tomorrow's Web</a>
		<div>
			<abbr class="posted" title="8/17/2007 9:05:04 PM">08/17/07</abbr>
		</div>
	</li>
	<li class="" id="recent-posts-1560">
		<a class="title" href="post.html">Javascript Makes Me Giddy</a>
		<div>
			<abbr class="posted" title="8/12/2007 1:11:54 PM">08/12/07</abbr>
		</div>
	</li>
	<li class="" id="recent-posts-1540">
		<a class="title" href="post.html">ECMAScript 4 on the Server</a>
		<div>
			<abbr class="posted" title="8/10/2007 10:01:45 AM">08/10/07</abbr>
		</div>
	</li>
	<li class="" id="recent-posts-1477">
		<a class="title" href="post.html">Client-side Performance Tip</a>
		<div>
			<abbr class="posted" title="7/26/2007 3:09:12 PM">07/26/07</abbr>
		</div>
	</li>
	<li class="" id="recent-posts-1198">
		<a class="title" href="post.html">Goodbye, Subtext</a>
		<div>
			<abbr class="posted" title="5/28/2007 9:14:47 PM">05/28/07</abbr>
		</div>
	</li>
</ul></div><div id="feed-1192-3" class="feed global"><div class="links"><ul><li><a href="index.html">Home</a></li><li><a href="blog.html">Blog</a></li><li><a href="contact.html">Contact</a></li><li><a href="http://feeds.feedburner.com/DimitriGlazkov">RSS</a></li></ul></div></div>
			</div>
			<div id="context" class="content-area"><div class="local"><address class="vcard" id="contact-info">
I am <span class="fn">Dimitri Glazkov</span>, a software developer living down in <span class="adr"><span class="locality">Birmingham</span>, <span class="region">Alabama</span>.</address></div></div>
		</form>
	</body>
</html>
